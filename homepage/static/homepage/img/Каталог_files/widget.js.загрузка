/*! widget-4dff1106d00418bc8c70 */!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="./",n(n.s="vpQ9")}({"4fRq":function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var o=new Uint8Array(16);t.exports=function(){return n(o),o}}else{var i=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}},Bnag:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},EbDI:function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},I2ZF:function(t,e){for(var n=[],o=0;o<256;++o)n[o]=(o+256).toString(16).substr(1);t.exports=function(t,e){var o=e||0,i=n;return[i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]]].join("")}},Ijbi:function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},J4zp:function(t,e,n){var o=n("wTVA"),i=n("m0LI"),r=n("wkBT");t.exports=function(t,e){return o(t)||i(t,e)||r()}},MVZn:function(t,e,n){var o=n("lSNA");t.exports=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),i.forEach((function(e){o(t,e,n[e])}))}return t}},RIqP:function(t,e,n){var o=n("Ijbi"),i=n("EbDI"),r=n("Bnag");t.exports=function(t){return o(t)||i(t)||r()}},W8MJ:function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}t.exports=function(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}},cDf5:function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=o=function(t){return n(t)}:t.exports=o=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},o(e)}t.exports=o},lSNA:function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},lwsE:function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},m0LI:function(t,e){t.exports=function(t,e){var n=[],o=!0,i=!1,r=void 0;try{for(var s,c=t[Symbol.iterator]();!(o=(s=c.next()).done)&&(n.push(s.value),!e||n.length!==e);o=!0);}catch(t){i=!0,r=t}finally{try{o||null==c.return||c.return()}finally{if(i)throw r}}return n}},p46w:function(t,e,n){var o,i;
/*!
 * JavaScript Cookie v2.2.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(r){if(void 0===(i="function"==typeof(o=r)?o.call(e,n,e,t):o)||(t.exports=i),!0,t.exports=r(),!!0){var s=window.Cookies,c=window.Cookies=r();c.noConflict=function(){return window.Cookies=s,c}}}((function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var o in n)e[o]=n[o]}return e}return function e(n){function o(e,i,r){var s;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(r=t({path:"/"},o.defaults,r)).expires){var c=new Date;c.setMilliseconds(c.getMilliseconds()+864e5*r.expires),r.expires=c}r.expires=r.expires?r.expires.toUTCString():"";try{s=JSON.stringify(i),/^[\{\[]/.test(s)&&(i=s)}catch(t){}i=n.write?n.write(i,e):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var a="";for(var l in r)r[l]&&(a+="; "+l,!0!==r[l]&&(a+="="+r[l]));return document.cookie=e+"="+i+a}e||(s={});for(var u=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,f=0;f<u.length;f++){var p=u[f].split("="),m=p.slice(1).join("=");this.json||'"'!==m.charAt(0)||(m=m.slice(1,-1));try{var g=p[0].replace(d,decodeURIComponent);if(m=n.read?n.read(m,g):n(m,g)||m.replace(d,decodeURIComponent),this.json)try{m=JSON.parse(m)}catch(t){}if(e===g){s=m;break}e||(s[g]=m)}catch(t){}}return s}}return o.set=o,o.get=function(t){return o.call(o,t)},o.getJSON=function(){return o.apply({json:!0},[].slice.call(arguments))},o.defaults={},o.remove=function(e,n){o(e,"",t(n,{expires:-1}))},o.withConverter=e,o}((function(){}))}))},vpQ9:function(t,e,n){"use strict";function o(){}n.r(e);function i(t){return t()}function r(){return Object.create(null)}function s(t){t.forEach(i)}function c(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(t){return 0===Object.keys(t).length}function u(t,...e){if(null==t)return o;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function d(t,e,n){t.$$.on_destroy.push(u(e,n))}new Set;function f(t,e){t.appendChild(e)}function p(t,e,n){t.insertBefore(e,n||null)}function m(t){t.parentNode.removeChild(t)}function g(t){return document.createElement(t)}function h(t){return document.createTextNode(t)}function v(){return h(" ")}function w(){return h("")}function y(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function x(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function b(t,e,n){t.classList[n?"add":"remove"](e)}class ${constructor(t=null){this.a=t,this.e=this.n=null}m(t,e,n=null){this.e||(this.e=g(e.nodeName),this.t=e,this.h(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)p(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(m)}}new Set;let S;function _(t){S=t}function I(){if(!S)throw new Error("Function called outside component initialization");return S}const k=[],T=[],M=[],P=[],E=Promise.resolve();let C=!1;function O(){C||(C=!0,E.then(R))}function U(t){M.push(t)}let z=!1;const q=new Set;function R(){if(!z){z=!0;do{for(let t=0;t<k.length;t+=1){const e=k[t];_(e),j(e.$$)}for(_(null),k.length=0;T.length;)T.pop()();for(let t=0;t<M.length;t+=1){const e=M[t];q.has(e)||(q.add(e),e())}M.length=0}while(k.length);for(;P.length;)P.pop()();C=!1,z=!1,q.clear()}}function j(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(U)}}const A=new Set;let L;function N(){L={r:0,c:[],p:L}}function X(){L.r||s(L.c),L=L.p}function F(t,e){t&&t.i&&(A.delete(t),t.i(e))}function H(t,e,n,o){if(t&&t.o){if(A.has(t))return;A.add(t),L.c.push(()=>{A.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}const D="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]);let J;function B(t){t&&t.c()}function W(t,e,n,o){const{fragment:r,on_mount:a,on_destroy:l,after_update:u}=t.$$;r&&r.m(e,n),o||U(()=>{const e=a.map(i).filter(c);l?l.push(...e):s(e),t.$$.on_mount=[]}),u.forEach(U)}function V(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Y(t,e,n,i,c,a,l=[-1]){const u=S;_(t);const d=t.$$={fragment:null,ctx:null,props:a,update:o,not_equal:c,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:e.context||[]),callbacks:r(),dirty:l,skip_bound:!1};let f=!1;if(d.ctx=n?n(t,e.props||{},(e,n,...o)=>{const i=o.length?o[0]:n;return d.ctx&&c(d.ctx[e],d.ctx[e]=i)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](i),f&&function(t,e){-1===t.$$.dirty[0]&&(k.push(t),O(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),n}):[],d.update(),f=!0,s(d.before_update),d.fragment=!!i&&i(d.ctx),e.target){if(e.hydrate){const t=(p=e.target,Array.from(p.childNodes));d.fragment&&d.fragment.l(t),t.forEach(m)}else d.fragment&&d.fragment.c();e.intro&&F(t.$$.fragment),W(t,e.target,e.anchor,e.customElement),R()}var p;_(u)}"function"==typeof HTMLElement&&(J=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(i).filter(c);for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){s(this.$$.on_disconnect)}$destroy(){V(this,1),this.$destroy=o}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&!l(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});class Z{$destroy(){V(this,1),this.$destroy=o}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&!l(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var G=n("MVZn"),K=n.n(G),Q=n("RIqP"),tt=n.n(Q),et=n("lwsE"),nt=n.n(et),ot=n("W8MJ"),it=n.n(ot);var rt=function(){},st=function(){function t(){nt()(this,t),this.events={}}return it()(t,[{key:"sendEvent",value:function(t){var e=this.events.event,n="";try{(n=sessionStorage.getItem("UXS_event"))?sessionStorage.setItem("UXS_event",[t].concat(tt()(n.split(",").filter((function(e){return e!==t})))).join(",")):sessionStorage.setItem("UXS_event",t)}catch(t){rt("getItem/setItem from sessionStorage error at sendEvent:\n",t)}if(e&&e[0]){var o=e.findIndex((function(e){return e[0]===t})),i=-1===o?0:o;e[i][1](t),e[i][2]||(this.events.event=this.events.event.filter((function(t,e){return e!==o})))}}},{key:"subscribe",value:function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];rt("subscribe type:",t,e,n),this.events[t]||(this.events[t]=[]);var i=this.events[t],r=i.findIndex((function(t){return t[0]===e}));this.events[t]=i.filter((function(t,e){return e!==r})),this.events[t].push([e,n,o])}},{key:"addProperties",value:function(t){window._uxsSettings=window.hasOwnProperty("_uxsSettings")?K()({},window._uxsSettings,{properties:window._uxsSettings.properties?K()({},window._uxsSettings.properties,t):t}):{properties:t}}},{key:"getProperties",value:function(){return window._uxsSettings&&window._uxsSettings.properties}}]),t}();const ct=[];function at(t,e=o){let n;const i=[];function r(e){if(a(t,e)&&(t=e,n)){const e=!ct.length;for(let e=0;e<i.length;e+=1){const n=i[e];n[1](),ct.push(n,t)}if(e){for(let t=0;t<ct.length;t+=2)ct[t][0](ct[t+1]);ct.length=0}}}return{set:r,update:function(e){r(e(t))},subscribe:function(s,c=o){const a=[s,c];return i.push(a),1===i.length&&(n=e(r)||o),s(t),()=>{const t=i.indexOf(a);-1!==t&&i.splice(t,1),0===i.length&&(n(),n=null)}}}}var lt=at(!1),ut=at(!1),dt=at(!1),ft=at(null),pt=at(null),mt=at(!1),gt={API_URL:"https://api.uxfeedback.yandex.net/v1",FORM_URL:"https://uxfeedback-cdn.s3.yandex.net/_static/form/index.html"},ht="font-size: 0; line-height: 0; z-index: 10000; position: fixed; cursor: pointer; text-align: right;";function vt(t){let e,n,i,r,s;return{c(){var o;e=g("div"),n=g("iframe"),x(n,"title","uxfb_form"),n.src!==(i=`${gt.FORM_URL}?config=${t[0]}`)&&x(n,"src",i),x(n,"class","uxs-form svelte-nny22w"),x(n,"frameborder","0"),x(n,"marginwidth","0"),x(n,"marginheight","0"),x(n,"scrolling","no"),x(e,"id",r=`uxs_${t[1]}_form`),x(e,"class",(o=t[4](),s=(null==o?"":o)+" svelte-nny22w")),b(e,"uxs-mobile-slide-back",t[2]),b(e,"display-none",t[3])},m(o,i){p(o,e,i),f(e,n),t[6](n),t[7](e)},p(t,[o]){1&o&&n.src!==(i=`${gt.FORM_URL}?config=${t[0]}`)&&x(n,"src",i),2&o&&r!==(r=`uxs_${t[1]}_form`)&&x(e,"id",r),4&o&&b(e,"uxs-mobile-slide-back",t[2]),8&o&&b(e,"display-none",t[3])},i:o,o:o,d(n){n&&m(e),t[6](null),t[7](null)}}}let wt,yt;function xt(t,e){yt&&yt.contentWindow&&yt.contentWindow.postMessage&&yt.contentWindow.postMessage({type:t,payload:e},"*")}function bt(){lt.set(!0)}function $t(){return yt}function St(){return wt}function _t(t,e,n){let o;d(t,lt,t=>n(3,o=t));let{src:i}=e,{siteId:r}=e,{isMobile:s}=e,{type:c}=e;return t.$$set=t=>{"src"in t&&n(0,i=t.src),"siteId"in t&&n(1,r=t.siteId),"isMobile"in t&&n(2,s=t.isMobile),"type"in t&&n(5,c=t.type)},[i,r,s,o,function(){return 2===c?"uxs-slide-back":"uxs-back"},c,function(t){T[t?"unshift":"push"](()=>{yt=t})},function(t){T[t?"unshift":"push"](()=>{wt=t})}]}var It=class extends Z{constructor(t){var e;super(),document.getElementById("svelte-nny22w-style")||((e=g("style")).id="svelte-nny22w-style",e.textContent=".uxs-back.svelte-nny22w.svelte-nny22w{position:fixed;top:0;right:0;bottom:0;left:0;z-index:999999;overflow:auto;background:rgba(0, 0, 0, 0.26);-webkit-overflow-scrolling:touch;height:100%;overflow:visible;max-height:100%}.uxs-back.svelte-nny22w iframe.svelte-nny22w{width:100%;height:99%;display:block}.uxs-slide-back.svelte-nny22w.svelte-nny22w{z-index:999998;overflow:auto;height:auto;position:fixed;opacity:0;-webkit-overflow-scrolling:touch;overflow:visible;max-height:100%}.uxs-mobile-slide-back.svelte-nny22w.svelte-nny22w{overflow:auto;overflow-x:hidden}.uxs-slide-back.uxs-mobile-slide-back.svelte-nny22w iframe.svelte-nny22w{display:block}.uxs-slide-back.upperRight.svelte-nny22w.svelte-nny22w{opacity:1;right:0}.display-none.svelte-nny22w.svelte-nny22w{display:none}",f(document.head,e)),Y(this,t,_t,vt,a,{src:0,siteId:1,isMobile:2,type:5})}},kt=n("J4zp"),Tt=n.n(kt),Mt={left_top:function(t){return"top: calc(".concat(t[4],"% + ").concat(t[5],"px); left: ").concat(t[1],"px;")},left_center:function(t){return"top: calc(50% + ".concat(t[5],"px - ").concat(t[7],"px); left: ").concat(t[1],"px; ").concat(Pt)},left_bottom:function(t){return"bottom: calc(".concat(t[6],"% + ").concat(t[7],"px); left: ").concat(t[1],"px;")},right_top:function(t){return"top: calc(".concat(t[4],"% + ").concat(t[5],"px); right: ").concat(t[3],"px;")},right_center:function(t){return"top: calc(50% + ".concat(t[5],"px - ").concat(t[7],"px); right: ").concat(t[3],"px; ").concat(Pt)},right_bottom:function(t){return"bottom: calc(".concat(t[6],"% + ").concat(t[7],"px); right: ").concat(t[3],"px;")},bottom_left:function(t){return"left: calc(".concat(t[0],"% + ").concat(t[1],"px); bottom: ").concat(t[7],"px;")},bottom_center:function(t){return"left: calc(50% + ".concat(t[1],"px - ").concat(t[3],"px); bottom: ").concat(t[7],"px; ").concat("MsTransform: translateX(-50%); WebkitTransform: translateX(-50%); transform: translateX(-50%);")},bottom_right:function(t){return"right: calc(".concat(t[2],"% + ").concat(t[3],"px); bottom: ").concat(t[7],"px;")}},Pt="MsTransform: translateY(-50%); WebkitTransform: translateY(-50%); transform: translateY(-50%);";function Et(t,e,n){return"css"===t.iconType?function(t,e,n){var o=t.position,i=o.margins,r=o.point,s={left_top:{"transform-origin":"0 0",transform:"rotate(-90deg)",top:"calc(".concat(i[4],"% + ").concat(e,"px + ").concat(i[5],"px)"),left:"".concat(i[1],"px")},left_center:{"transform-origin":"0 0",transform:"rotate(-90deg)",top:"calc(50% + ".concat(e/2,"px + ").concat(i[5],"px - ").concat(i[7],"px)"),left:"".concat(i[1],"px")},left_bottom:{"transform-origin":"bottom left",transform:"rotate(-90deg)",bottom:"calc(".concat(i[6],"% + ").concat(i[7],"px)"),left:"calc(".concat(i[1],"px + ").concat(n,"px)")},bottom_left:{left:"calc(".concat(i[0],"% + ").concat(i[1],"px)"),bottom:"".concat(i[7],"px")},bottom_center:{left:"calc(50% + ".concat(i[1],"px - ").concat(i[3],"px - ").concat(e/2,"px)"),bottom:"".concat(i[7],"px")},bottom_right:{right:"calc(".concat(i[2],"% + ").concat(i[3],"px)"),bottom:"".concat(i[7],"px")},right_top:{"transform-origin":"bottom right",transform:"rotate(-90deg)",top:"calc(".concat(i[4],"% - ").concat(n,"px + ").concat(i[5],"px)"),right:"".concat(i[3],"px")},right_center:{"transform-origin":"bottom right",transform:"rotate(-90deg)",top:"calc(50% - ".concat(e/2,"px - ").concat(n,"px + ").concat(i[5],"px - ").concat(i[7],"px)"),right:"".concat(i[3],"px")},right_bottom:{"transform-origin":"bottom right",transform:"rotate(-90deg)",bottom:"calc(".concat(i[6],"% + ").concat(e,"px + ").concat(i[7],"px)"),right:"".concat(i[3],"px")}};return Object.entries(s[r]).reduce((function(t,e){var n=Tt()(e,2),o=n[0],i=n[1];return"".concat(t," ").concat(o,": ").concat(i,";")}),"")}(t,e,n):function(t){var e=t.position,n=e.margins,o=e.point;return Mt[o](n)}(t)}const{document:Ct}=D;function Ot(t){let e,n,o,i,r;return{c(){e=g("img"),e.src!==(n=t[0].src.image)&&x(e,"src",n),x(e,"alt","UX Feedback"),x(e,"style",o=`width: ${t[8]}px !important;`),x(e,"class","svelte-v4pzq6")},m(n,o){p(n,e,o),i||(r=[y(e,"load",t[11]),y(e,"click",t[12])],i=!0)},p(t,i){1&i&&e.src!==(n=t[0].src.image)&&x(e,"src",n),256&i&&o!==(o=`width: ${t[8]}px !important;`)&&x(e,"style",o)},d(t){t&&m(e),i=!1,s(r)}}}function Ut(t){let e,n,o,i,r,s=t[0].src.css.text+"",c=t[0].src.css&&t[0].src.css.icon&&zt(t);return{c(){e=g("div"),c&&c.c(),n=v(),o=g("span"),i=h(s),x(e,"class","css-widget-icon svelte-v4pzq6"),x(e,"style",r=t[13]()),b(e,"hidden-widget-icon",!t[6])},m(r,s){p(r,e,s),c&&c.m(e,null),f(e,n),f(e,o),f(o,i),t[16](e)},p(t,o){var r,a;t[0].src.css&&t[0].src.css.icon?c?c.p(t,o):(c=zt(t),c.c(),c.m(e,n)):c&&(c.d(1),c=null),1&o&&s!==(s=t[0].src.css.text+"")&&(a=""+(a=s),(r=i).wholeText!==a&&(r.data=a)),64&o&&b(e,"hidden-widget-icon",!t[6])},d(n){n&&m(e),c&&c.d(),t[16](null)}}}function zt(t){let e,n;return{c(){e=g("img"),e.src!==(n=t[0].src.css.icon)&&x(e,"src",n),x(e,"alt","Campaign logo"),x(e,"class","svelte-v4pzq6")},m(t,n){p(t,e,n)},p(t,o){1&o&&e.src!==(n=t[0].src.css.icon)&&x(e,"src",n)},d(t){t&&m(e)}}}function qt(t){let e,n;return e=new It({props:{siteId:t[1],isMobile:t[2],src:t[4],type:1}}),{c(){B(e.$$.fragment)},m(t,o){W(e,t,o),n=!0},p(t,n){const o={};2&n&&(o.siteId=t[1]),4&n&&(o.isMobile=t[2]),16&n&&(o.src=t[4]),e.$set(o)},i(t){n||(F(e.$$.fragment,t),n=!0)},o(t){H(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Rt(t){let e,n,o,i,r,s,c,a,l,u="svg"===t[0].iconType&&Ot(t),d="css"===t[0].iconType&&Ut(t),h=t[7]&&qt(t);return{c(){e=g("div"),u&&u.c(),n=v(),d&&d.c(),r=v(),h&&h.c(),s=w(),x(e,"id",o="uxs_"+t[1]),x(e,"class","uxs-wrapper svelte-v4pzq6"),x(e,"style",i=t[3]?"":Et(t[0],t[8],t[9])),b(e,"iframe-icon",t[3]),b(e,"display-none",t[10])},m(o,i){p(o,e,i),u&&u.m(e,null),f(e,n),d&&d.m(e,null),p(o,r,i),h&&h.m(o,i),p(o,s,i),c=!0,a||(l=y(e,"click",t[12]),a=!0)},p(t,[r]){"svg"===t[0].iconType?u?u.p(t,r):(u=Ot(t),u.c(),u.m(e,n)):u&&(u.d(1),u=null),"css"===t[0].iconType?d?d.p(t,r):(d=Ut(t),d.c(),d.m(e,null)):d&&(d.d(1),d=null),(!c||2&r&&o!==(o="uxs_"+t[1]))&&x(e,"id",o),(!c||777&r&&i!==(i=t[3]?"":Et(t[0],t[8],t[9])))&&x(e,"style",i),8&r&&b(e,"iframe-icon",t[3]),1024&r&&b(e,"display-none",t[10]),t[7]?h?(h.p(t,r),128&r&&F(h,1)):(h=qt(t),h.c(),F(h,1),h.m(s.parentNode,s)):h&&(N(),H(h,1,1,()=>{h=null}),X())},i(t){c||(F(h),c=!0)},o(t){H(h),c=!1},d(t){t&&m(e),u&&u.d(),d&&d.d(),t&&m(r),h&&h.d(t),t&&m(s),a=!1,l()}}}function jt(){dt.set(!1)}function At(t,e,n){let o,i,r,s,c;d(t,mt,t=>n(17,o=t)),d(t,ut,t=>n(7,i=t)),d(t,ft,t=>n(8,r=t)),d(t,pt,t=>n(9,s=t)),d(t,dt,t=>n(10,c=t));const a={left:{marginIndex:1,borders:"0px 0px 4px 4px",iconPadding:"padding-left: 10px;",padding:"padding-left: 12px;"},right:{marginIndex:3,borders:"4px 4px 0px 0px",iconPadding:"padding-left: 10px;",padding:"padding-left: 12px;"},bottom:{marginIndex:7,borders:"4px 4px 0px 0px",iconPadding:"padding-left: 10px;",padding:"padding-left: 12px;"}};let l,u,{widget:f}=e,{siteId:p}=e,{isMobile:m}=e,{loadForm:g}=e,{sendMsgToParent:h}=e,{isIframeMode:v}=e,w=!1;function y(){pt.set(u.offsetHeight),ft.set(u.offsetWidth),r&&s&&!c&&(h("style",`${ht} ${Et(f,r,s)}`),h("image",{width:r+"px",height:s+"px"}))}var x;return x=()=>{"css"===f.iconType&&(w?y():document.fonts.onloadingdone=function(){Promise.resolve().then(()=>{n(6,w=!0)}).then(()=>{y()})})},I().$$.on_mount.push(x),function(t){I().$$.on_destroy.push(t)}(()=>document.fonts.onloadingdone=null),t.$$set=t=>{"widget"in t&&n(0,f=t.widget),"siteId"in t&&n(1,p=t.siteId),"isMobile"in t&&n(2,m=t.isMobile),"loadForm"in t&&n(14,g=t.loadForm),"sendMsgToParent"in t&&n(15,h=t.sendMsgToParent),"isIframeMode"in t&&n(3,v=t.isIframeMode)},[f,p,m,v,l,u,w,i,r,s,c,function(t){const e=t.composedPath&&t.composedPath(),n=e&&Array.isArray(e)&&e.length,c=n?e[0].naturalWidth:this.width,a=n?e[0].naturalHeight:this.height;ft.set(c),pt.set(a),o||i||(h("style",`${ht} ${Et(f,r,s)}`),h("image",{width:r+"px",height:s+"px"}))},function(){i||(n(4,l=g("widget",f)),ut.set(!0))},function(){const{css:t}=f.src,e=f.position.point,[o]=e.split("_"),i=function(t,e){return t?`border-radius: ${f.position.margins[a[e].marginIndex]>0?"4px 4px 4px 4px":a[e].borders}; `:""}(t.rounded,o),r=t.icon?a[o].iconPadding:a[o].padding,s=`color: ${t.textColor};`,c=`background-color: ${t.backgroundColor};`,l=`font-family: ${t.font&&t.font.family};`;return n(6,w=document.fonts.check("14px "+t.font.family)),`${i}${r}${s}${c}${l}`},g,h,function(t){T[t?"unshift":"push"](()=>{u=t,n(5,u)})}]}var Lt=class extends Z{constructor(t){var e;super(),Ct.getElementById("svelte-v4pzq6-style")||((e=g("style")).id="svelte-v4pzq6-style",e.textContent=".uxs-wrapper.svelte-v4pzq6.svelte-v4pzq6{font-size:0;line-height:0;z-index:10000;position:fixed;cursor:pointer;text-align:right}.uxs-wrapper.svelte-v4pzq6 img.svelte-v4pzq6{display:block;height:auto}.css-widget-icon.svelte-v4pzq6.svelte-v4pzq6{display:flex;align-items:center;font-size:14px;line-height:24px;padding-top:8px;padding-bottom:8px;padding-right:12px;letter-spacing:.1px;white-space:nowrap}.css-widget-icon.svelte-v4pzq6 img.svelte-v4pzq6{margin-right:10px;width:24px;height:24px}.iframe-icon.svelte-v4pzq6.svelte-v4pzq6{top:0;right:0;left:0;bottom:0}.display-none.svelte-v4pzq6.svelte-v4pzq6{display:none}.hidden-widget-icon.svelte-v4pzq6.svelte-v4pzq6{opacity:0}",f(Ct.head,e)),Y(this,t,At,Rt,a,{widget:0,siteId:1,isMobile:2,loadForm:14,sendMsgToParent:15,isIframeMode:3})}},Nt={},Xt=window.navigator.userAgent.toLowerCase(),Ft=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","pov_tv","hbbtv","ce-html"];function Ht(t){return-1!==Xt.indexOf(t)}Nt.macos=function(){return Ht("mac")},Nt.ios=function(){return Nt.iphone()||Nt.ipod()||Nt.ipad()},Nt.iphone=function(){return!Nt.windows()&&Ht("iphone")},Nt.ipod=function(){return Ht("ipod")},Nt.ipad=function(){var t=Nt.macos()&&navigator.maxTouchPoints>0;return Ht("ipad")||t},Nt.android=function(){return!Nt.windows()&&Ht("android")},Nt.androidPhone=function(){return Nt.android()&&Ht("mobile")},Nt.androidTablet=function(){return Nt.android()&&!Ht("mobile")},Nt.blackberry=function(){return Ht("blackberry")||Ht("bb10")||Ht("rim")},Nt.blackberryPhone=function(){return Nt.blackberry()&&!Ht("tablet")},Nt.blackberryTablet=function(){return Nt.blackberry()&&Ht("tablet")},Nt.windows=function(){return Ht("windows")},Nt.windowsPhone=function(){return Nt.windows()&&Ht("phone")},Nt.windowsTablet=function(){return Nt.windows()&&Ht("touch")&&!Nt.windowsPhone()},Nt.fxos=function(){return(Ht("(mobile")||Ht("(tablet"))&&Ht(" rv:")},Nt.fxosPhone=function(){return Nt.fxos()&&Ht("mobile")},Nt.fxosTablet=function(){return Nt.fxos()&&Ht("tablet")},Nt.meego=function(){return Ht("meego")},Nt.mobile=function(){return Nt.androidPhone()||Nt.iphone()||Nt.ipod()||Nt.windowsPhone()||Nt.blackberryPhone()||Nt.fxosPhone()||Nt.meego()},Nt.tablet=function(){return Nt.ipad()||Nt.androidTablet()||Nt.blackberryTablet()||Nt.windowsTablet()||Nt.fxosTablet()},Nt.desktop=function(){return!Nt.tablet()&&!Nt.mobile()},Nt.tv=function(){for(var t=0;t<Ft.length;){if(Ht(Ft[t]))return!0;t++}return!1};var Dt=function(){return{desktop:Nt.desktop(),tablet:Nt.tablet(),mobile:Nt.mobile(),tv:Nt.tv(),iphone:Nt.iphone()}};function Jt(t,e,n,o){var i=new XMLHttpRequest;i.open("POST",t,!0),i.setRequestHeader("Content-Type","application/json; charset=UTF-8"),i.setRequestHeader("Accept","application/json"),i.send(JSON.stringify(e)),i.onerror=function(){o&&o(null,0)},i.onload=function(){var t=i.status;try{var e=JSON.parse(i.response);t>=200&&t<400?n&&n(e,t):t>=400&&o&&o(e,t)}catch(t){console.error("JSON Error",t,i)}}}var Bt=n("lSNA"),Wt=n.n(Bt),Vt=n("p46w"),Yt=n.n(Vt),Zt=n("xDdU"),Gt=n.n(Zt);function Kt(t){try{if(!window.localStorage.hasOwnProperty(t))return;return JSON.parse(window.localStorage.getItem(t))}catch(t){rt("error at parseLSItem:\n",t)}}function Qt(t,e){try{window.localStorage.setItem(t,e)}catch(t){rt("error at setLSItem:\n",t)}}function te(t){return(Number.isInteger||function(t){return"number"==typeof id&&isFinite(t)&&Math.floor(t)===t})(t)}function ee(){var t=Gt()();return function(t){var e=(o=document.location.hostname,i=o.match(/([^.]{1,}\.[^.]{1,})$/i),null===i?o:i[0]),n=(new Date).getTime();var o,i;Yt.a.set("uxs_uid",t,{expires:730,domain:e}),Qt("uxs_uid",JSON.stringify(Wt()({},t,n)))}(t),t}var ne=n("cDf5"),oe=n.n(ne);function ie(t,e,n){if("campaign"===t&&e&&!e.isPreview){var o=e.id,i=(new Date).getTime(),r=function(t,e){var n={};if("object"!==oe()(t))return n;for(var o in t){var i=t[o],r=te(+o),s=te(i)&&i<e;r&&s&&e-i<36e5&&(n[o]=i)}return n}(Kt("uxs_campaigns"),i),s=r.hasOwnProperty(o);return s&&!n||(r[o]=i),Qt("uxs_campaigns",JSON.stringify(r)),s}}function re(t,e){var n=null;return function(){for(var o=this,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];clearTimeout(n),n=setTimeout((function(){t.apply(o,r)}),e)}}const{document:se}=D;function ce(t){let e;function n(t,e){return t[0].font.external?le:ae}let o=n(t),i=o(t);return{c(){i.c(),e=w()},m(t,n){i.m(t,n),p(t,e,n)},p(t,r){o===(o=n(t))&&i?i.p(t,r):(i.d(1),i=o(t),i&&(i.c(),i.m(e.parentNode,e)))},d(t){i.d(t),t&&m(e)}}}function ae(t){let e,n,o=`<style id='uxs-fonts'>\n          ${t[0].font.src}\n        </style>`;return{c(){n=w(),e=new $(n)},m(t,i){e.m(o,t,i),p(t,n,i)},p(t,n){1&n[0]&&o!==(o=`<style id='uxs-fonts'>\n          ${t[0].font.src}\n        </style>`)&&e.p(o)},d(t){t&&m(n),t&&e.d()}}}function le(t){let e,n;return{c(){e=g("link"),x(e,"id","uxs-fonts"),x(e,"rel","stylesheet"),x(e,"href",n=t[0].font.src)},m(t,n){p(t,e,n)},p(t,o){1&o[0]&&n!==(n=t[0].font.src)&&x(e,"href",n)},d(t){t&&m(e)}}}function ue(t){let e,n,i;return{c(){e=g("div"),e.innerHTML='<div class="uxs-loader svelte-d6vl5y"></div>',x(e,"class","uxs-overlay svelte-d6vl5y")},m(o,r){p(o,e,r),n||(i=y(e,"click",t[11]),n=!0)},p:o,d(t){t&&m(e),n=!1,i()}}}function de(t){let e,n;return e=new Lt({props:{widget:t[5],siteId:ge(),isMobile:t[8](),isIframeMode:t[7],loadForm:t[9],sendMsgToParent:t[10]}}),{c(){B(e.$$.fragment)},m(t,o){W(e,t,o),n=!0},p(t,n){const o={};32&n[0]&&(o.widget=t[5]),e.$set(o)},i(t){n||(F(e.$$.fragment,t),n=!0)},o(t){H(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function fe(t){let e,n;return e=new It({props:{siteId:ge(),isMobile:t[8](),src:t[3],type:t[4].type}}),{c(){B(e.$$.fragment)},m(t,o){W(e,t,o),n=!0},p(t,n){const o={};8&n[0]&&(o.src=t[3]),16&n[0]&&(o.type=t[4].type),e.$set(o)},i(t){n||(F(e.$$.fragment,t),n=!0)},o(t){H(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function pe(t){let e,n,o,i,r,s,c=t[0]&&t[0].font&&ce(t),a=t[1]&&ue(t),l=t[2]&&de(t),u=t[6]&&fe(t);return{c(){c&&c.c(),e=w(),n=v(),o=g("div"),a&&a.c(),i=v(),l&&l.c(),r=v(),u&&u.c()},m(t,d){c&&c.m(se.head,null),f(se.head,e),p(t,n,d),p(t,o,d),a&&a.m(o,null),f(o,i),l&&l.m(o,null),f(o,r),u&&u.m(o,null),s=!0},p(t,n){t[0]&&t[0].font?c?c.p(t,n):(c=ce(t),c.c(),c.m(e.parentNode,e)):c&&(c.d(1),c=null),t[1]?a?a.p(t,n):(a=ue(t),a.c(),a.m(o,i)):a&&(a.d(1),a=null),t[2]?l?(l.p(t,n),4&n[0]&&F(l,1)):(l=de(t),l.c(),F(l,1),l.m(o,r)):l&&(N(),H(l,1,1,()=>{l=null}),X()),t[6]?u?(u.p(t,n),64&n[0]&&F(u,1)):(u=fe(t),u.c(),F(u,1),u.m(o,null)):u&&(N(),H(u,1,1,()=>{u=null}),X())},i(t){s||(F(l),F(u),s=!0)},o(t){H(l),H(u),s=!1},d(t){c&&c.d(t),m(e),t&&m(n),t&&m(o),a&&a.d(),l&&l.d(),u&&u.d()}}}function me(){return window._uxsSettings&&window._uxsSettings.isPreview}function ge(){return window._uxsSettings&&window._uxsSettings.id}function he(t,e,n){let o,i,r,s;d(t,mt,t=>n(6,o=t)),d(t,ft,t=>n(37,i=t)),d(t,pt,t=>n(38,r=t)),d(t,ut,t=>n(39,s=t));const c={id:null,type:null,matchedSeconds:null};let a,l,{widgetMode:u}=e,{removeController:f}=e,p=1===u,m=null,g=null,h=null,v=null,w=null,y=null,x=null,b=null,$=null,S=null,_=null,I=null,k=!1,T=!1,M=!1,P=null,E=null,C=null,O=null,U=null,z=null,q=null,R=!1,j=null,A=null,L=null,N=null;function X(){const t=function(){var t=Yt.a.get("uxs_uid"),e=Kt("uxs_uid");if(t||e){if(t)return t;var n=Tt()(Object.entries(e)[0],2),o=n[0],i=n[1],r=(new Date).getTime();return te(i)&&i<r&&r-i<63072e6?o:void 0}}();t?(h=t,g="old"):(h=ee(),g="new")}function F(){return m.mobile||m.tablet}function H(t){v=!0;const e=ge();Jt(`${gt.API_URL}/widgets/${e}?uid=${h}&uidType=${g}`,{url:p?w:document.location.href,cookies:p?"uxs_uid="+h+";"+$:document.cookie},t,D)}function D(t,e){v=!1,rt("loadData error",e,t)}function J(t){v=!1,n(0,I=t);const e=void 0!==I.error;t.spa&&Number(t.spa.on)&&function(){const{history:t,addEventListener:e,location:n}=window,{spa:o}=I,i=o&&o.hash,r=t.pushState,s=function(){const t={...window.location},e=_t;return function(){e.call(this,arguments,t)}}();i&&(wt("locationListener",i),e("hashchange",s,!1));t.pushState=function(...e){const o={...n};r.apply(t,e),It(o)}}(),e||(W(I.widgets,"widget"),W(I.campaigns,"campaigns"))}function B(t){v=!1,n(0,I=t);const e=l&&I.widgets[0]&&l.campaignId===I.widgets[0].campaignId;if(o&&(kt(),Pt()),e){const t=l?`${ht}${Et(l,i,r)}`:"display: none;";wt("opacity",0),wt("style",t),i&&r&&wt("image",{width:i+"px",height:r+"px"})}else n(2,T=!1),n(5,l=null),wt("style","display: none;"),W(I.widgets,"widget");W(I.campaigns,"campaigns")}function W(t,e){const n=t&&t.length,o="widget"===e?nt:st,i="widget"===e?V:Y;if(!n)return!1;for(let e=0;e<n;e++){const n=t[e],{seconds:r,trigger:s,onunload:c,session:a,scrollPage:l}=n.targeting,u=s&&s.seconds,d=r&&r.enabled?r.value:1;if(rt("proccess campaign",e,n),!s){if(a){i(a.value,()=>{Z({onunload:c,scrollPage:l},()=>o(n,d),d)});break}if(c){setTimeout(()=>{window.addEventListener("mousemove",Q)},1e3*d);break}if(l&&!j){et(l.value,()=>o(n,d));break}o(n,d);break}{const t=s.value,e=s.isMultiVisited,o="session"===s.mode;let r;try{r=window.sessionStorage.getItem("UXS_event")}catch(t){rt("getItem from sessionStorage error at checkTargetings:\n",t)}r&&(r=r.split(",")),r&&r.includes(t)&&o&&!P?i(u,()=>st(n,1)):window.UXS.subscribe("event",t,G(t,n,s),e)}}}function V(t,e){const n=t<20?1:3;try{O=+window.sessionStorage.getItem("UXS_widget_interval")}catch(t){rt("getItem from sessionStorage error at startWidgetSession:\n",t)}O||(O=0),null===E&&(E=setInterval(()=>{O+=n;try{window.sessionStorage.setItem("UXS_widget_interval",O)}catch(t){rt("setItem to sessionStorage error at widgetSessionInterval:\n",t)}if(O>=t){e(),clearInterval(E),E=null;try{window.sessionStorage.removeItem("UXS_widget_interval")}catch(t){rt("removeItem from sessionStorage error at widgetSessionInterval:\n",t)}}},1e3*n))}function Y(t,e){const n=t<20?1:3;try{C=+window.sessionStorage.getItem("UXS_campaign_interval")}catch(t){rt("getItem from sessionStorage error at startCampaignSession:\n",t)}C||(C=0),null===P&&(P=setInterval(()=>{C+=n;try{window.sessionStorage.setItem("UXS_campaign_interval",C)}catch(t){rt("setItem to sessionStorage error at campaignSessionInterval:\n",t)}if(C>=t){e(),clearInterval(P),P=null;try{window.sessionStorage.removeItem("UXS_campaign_interval")}catch(t){rt("removeItem from sessionStorage error at campaignSessionInterval:\n",t)}}},1e3*n))}function Z({onunload:t,scrollPage:e},n,o){t?setTimeout(()=>{window.addEventListener("mousemove",Q)},1e3*o):e&&!j?et(e.value,()=>n()):n()}function G(t,e,n){const{seconds:i,isMultiVisited:r}=n;return s=>{o?(K(t),window.UXS.subscribe("event",t,G(t,e,n),r)):function(t,e,n,o){const i="session"===n.targeting.trigger.mode;if(!e.includes(t))return void console.log("Undefined event - "+e);if(i)return void Y(o,()=>st(n,0));if(st(n,o),!(I.spa&&I.spa.on)){K(t);try{window.sessionStorage.removeItem("UXS_interval")}catch(t){rt("removeItem from sessionStorage error at startTriggetCampaign:\n",t)}}}(t,s,e,i)}}function K(t){try{const e=window.sessionStorage.getItem("UXS_event");e&&window.sessionStorage.setItem("UXS_event",e.split(",").filter(e=>e!==t).join(","))}catch(t){rt("getItem/setItem from sessionStorage error at removeEventFromStorage:\n",t)}}function Q(t){const{campaigns:e=[]}=I;if(t.clientY<10){const t=e.find(({targeting:t})=>t&&t.onunload);if(!t)return;st(t,1),window.removeEventListener("mousemove",Q)}}function tt(){const t=p?b:document.documentElement.scrollHeight;(t-(t-(p?_:document.documentElement.clientHeight)-(p?x:document.documentElement.scrollTop)))/t*100>=j&&(A(),window.removeEventListener("scroll",tt),wt("removeScroll",{}),j=null,A=null)}function et(t,e){j=t,A=e,window.addEventListener("scroll",tt),wt("addScroll",{})}function nt(t,e){l||z||(z=setTimeout(()=>{rt("start widget after",e,"seconds",t),ot(),l||(n(5,l=t),n(2,T=!0))},1e3*e))}function ot(){clearTimeout(z),z=null}function it(){clearTimeout(q),q=null}function st({_id:t,type:e,position:i,targeting:r},c){const l={id:t,type:e,position:i},u=r&&r.trigger,d=u&&"session"===u.mode,f=u&&u.isMultiVisited;d&&K(u.value),a||q||(q=setTimeout(()=>{rt("start campaign after",c,"seconds",a),it(),s||o||n(3,N=at("campaign",l,f))},1e3*c))}function ct(){R||(R=!0,window.addEventListener("message",vt,!0),wt("listener",!0))}function at(t,e,o=!1){if(ie(t,e,o)&&!o)return;wt("opacity",0),ct(),Pt(),dt.set(!0),ct();const i=()=>{n(1,k=!0),wt("style","z-index: 10000; position: fixed; top: 0px; bottom: 0px; left: 0px; right: 0px; opacity: 0;"),wt("size",{width:"100%",height:"100%"}),wt("opacity",1)},r={userId:ge(),ymId:p?S:(l=document.cookie.match("(?:^|;)\\s*_ym_uid=([^;]*)"),l?decodeURIComponent(l[1]):null),gaId:(s=document.cookie.match("(?:^|;)\\s*_ga=([^;]*)"),c=s?decodeURIComponent(s[1]).match(/(\d+\.\d+)$/):null,c?c[1]:null),object:t};var s,c,l;"widget"===t?(i(),r.campaignId=e.campaignId):(wt("style","display: block; width: 0px; height: 0px; opacity: 0;"),1===e.type&&i(),n(4,a=e),mt.set(!0),r.campaignId=e.id),me()?r.isPreview=!0:function(t){const e=ge();Jt(gt.API_URL+"/visits",{uid:h,userId:e,campaignId:t})}(r.campaignId);const u=encodeURIComponent(JSON.stringify(r));return window.addEventListener("resize",re(yt,300),!1),u}function vt(t){const{data:{type:e="",payload:s}}=t,[u,d]=e.split("/");if(p&&"uxfb"===u){if("scroll"===d&&(x=s.scrollTop,tt()),"event"===d&&window.UXS.sendEvent(s.event),"info"===d&&(w=s.url,$=s.cookies,S=s.ymId,y=s.devicePixelRatio,x=s.scrollTop,b=s.scrollHeight,H(J)),"properties"===d&&window.UXS.addProperties(s),"history"===d)try{w=JSON.parse(s.location).href,It(JSON.parse(s.oldLocation),JSON.parse(s.location))}catch(t){rt("JSON.parse error at receiveMessage:\n",t)}"clientHeight"===d&&(_=s,re(yt,300)()),"showWidgetIcon"===d&&(o||setTimeout(()=>{jt()},100))}if("hideForm"===e&&bt(),"close"===e){const t="campaign"===s,e=t?kt:Mt,n=l?`${ht}${Et(l,i,r)}`:"display: none;";t&&Pt(),wt("opacity",0),wt("style",n),i&&r&&wt("image",{width:i+"px",height:r+"px"}),e()}if("closePreview"===e){("widget"===s?Mt:kt)()}if("requestInfo"===e){const t={},{width:e,height:n}=window.screen,o=p?w:document.location.href,i=F(),r=m.iphone,s=p?_:document.documentElement.clientHeight,c=(p?y:window.devicePixelRatio)||1,a=window.UXS.getProperties();t.info={width:+(e*c).toFixed(),height:+(n*c).toFixed(),url:o,dateTime:(new Date/1e3).toFixed(),isMobile:i,isIphone:r,innerHeight:s},a&&(t.properties=a),xt("sendInfo",t)}if("requestPreviewConfig"===e&&xt("sendConfig",U),"loadSuccess"===e&&n(1,k=!1),"resizeForm"===e){const{width:t,height:e}=s,n=$t(),o=a&&a.type||l&&l.type||1,i=p?_:document.documentElement.clientHeight||window.innerHeight;if(L=i,rt("resizeForm",t,"x",e),1===o)return void(n.style.height=e>=i?e+"px":null);if(n.style.height=e+"px",a){const{type:t,position:o}=a,r=St(),s=0===o.indexOf("upper"),c=r.classList.contains(o);if(e>=i&&(n.style.height=e+"px"),2===t&&o&&!c&&(r.classList.add(o),wt("class",o)),2===t&&s)if(p)wt("position",{height:e});else{const t=parseInt((i-e)/2);r.style.top=e>=i?"0px":t+"px"}}n.style.width=t+"px",wt("size",{width:t+"px",height:e+"px"}),wt("opacity",1)}"showPreview"===e&&me()&&(U=s,n(4,a={...c,...U}),n(3,N=at("campaign",a))),"remove"===e&&me()&&(window._uxsSettings=null,window.removeEventListener("message",vt,!0),M=!1,f()),"callYaMetrica"===e&&(p&&s.id?wt("reachYaMetricaGoal",s):function(t){var e=t.id,n=t.params;if(rt("callYaMetrica",e,n),e){var o=window.ym,i=window["yaCounter"+e];o?o(e,"reachGoal","UX_FEEDBACK",n):i&&i.reachGoal("UX_FEEDBACK",n)}}(s))}function wt(t,e){p&&window.parent.postMessage({type:"uxfb/"+t,payload:e},"*")}function yt(){const t=p?_:document.documentElement.clientHeight||window.innerHeight;if(L!==t&&xt("sendInfo",{info:{innerHeight:t}}),a&&a.id){const{type:t,position:e}=a,n=0===e.indexOf("upper"),o=$t().clientHeight,i=window.innerHeight||document.documentElement.clientHeight;if(2===t&&n)if(p)St().style.top="0px",wt("position",{height:o});else{const t=parseInt((i-o)/2);St().style.top=o>=i?"0px":t+"px"}}}function _t(t,e){v||It(e)}function It(t,e){const{spa:n}=I,{hash:i,pathname:r,search:s}=p?e:window.location,c=t.pathname!==r,a=n&&n.qp&&t.search!==s,l=t.hash!==i;if(!(c||a||l))return;let u;it(),ot();try{u=window.sessionStorage.getItem("UXS_event")}catch(t){rt("getItem from sessionStorage error at updateWidgetData:\n",t)}if(u&&(u=u.split(",")),u){const{campaigns:t=[]}=I;t.filter(({targeting:t})=>t&&t.trigger).filter(({targeting:t})=>"session"===t.trigger.mode).find(({targeting:t})=>u.includes(t.trigger.value))&&(clearInterval(P),P=null)}o&&(bt(),wt("opacity",0),wt("style","display: none;")),H(B)}function kt(){mt.set(!1),lt.set(!1),p||jt()}function Mt(){ut.set(!1),lt.set(!1),p||jt()}function Pt(){n(4,a=null)}return m=Dt(),me()?ct():p?(X(),ct()):(X(),H(J)),t.$$set=t=>{"widgetMode"in t&&n(12,u=t.widgetMode),"removeController"in t&&n(13,f=t.removeController)},[I,k,T,N,a,l,o,p,F,at,wt,function(){const t=l?`${ht}${Et(l,i,r)}`:"display: none;";n(1,k=!1),Mt(),kt(),Pt(),wt("opacity",0),wt("style",t),i&&r&&wt("image",{width:i+"px",height:r+"px"})},u,f]}var ve=class extends Z{constructor(t){var e;super(),se.getElementById("svelte-d6vl5y-style")||((e=g("style")).id="svelte-d6vl5y-style",e.textContent=".uxs-overlay.svelte-d6vl5y{position:fixed;z-index:1000000;width:100%;height:100%;left:0;right:0;top:0;bottom:0}.uxs-loader.svelte-d6vl5y{width:40px;height:40px;position:absolute;top:45%;left:50%;background-color:#333;border-radius:100%;-webkit-animation:svelte-d6vl5y-uxs-load 1.0s infinite ease-in-out;animation:svelte-d6vl5y-uxs-load 1.0s infinite ease-in-out}@-webkit-keyframes svelte-d6vl5y-uxs-load{0%{-webkit-transform:scale(0) }100%{-webkit-transform:scale(1.0);opacity:0}}@keyframes svelte-d6vl5y-uxs-load{0%{-webkit-transform:scale(0);transform:scale(0)}100%{-webkit-transform:scale(1.0);transform:scale(1.0);opacity:0}}",f(se.head,e)),Y(this,t,he,pe,a,{widgetMode:12,removeController:13},[-1,-1,-1])}};function we(t){let e,n;return e=new ve({props:{widgetMode:t[1],removeController:t[2]}}),{c(){B(e.$$.fragment)},m(t,o){W(e,t,o),n=!0},p(t,n){const o={};2&n&&(o.widgetMode=t[1]),e.$set(o)},i(t){n||(F(e.$$.fragment,t),n=!0)},o(t){H(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function ye(t){let e,n,o=t[0]&&we(t);return{c(){o&&o.c(),e=w()},m(t,i){o&&o.m(t,i),p(t,e,i),n=!0},p(t,[n]){t[0]?o?(o.p(t,n),1&n&&F(o,1)):(o=we(t),o.c(),F(o,1),o.m(e.parentNode,e)):o&&(N(),H(o,1,1,()=>{o=null}),X())},i(t){n||(F(o),n=!0)},o(t){H(o),n=!1},d(t){o&&o.d(t),t&&m(e)}}}function xe(t,e,n){let o=!1,i=0;return function(){window._uxsSettings||(window._uxsSettings={});const t=/Trident|MSIE/.test(navigator.userAgent),e="5b97522f8a70c35a8534b4b0"===window._uxsSettings.id;n(1,i=window._uxsSettings.mode||0),t&&e||(window.UXS=new st,n(0,o=!0))}(),[o,i,function(){n(0,o=!1)}]}var be=class extends Z{constructor(t){super(),Y(this,t,xe,ye,a,{})}};n.d(e,"app",(function(){return $e}));var $e=new be({target:document.body})},wTVA:function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},wkBT:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},xDdU:function(t,e,n){var o,i,r=n("4fRq"),s=n("I2ZF"),c=0,a=0;t.exports=function(t,e,n){var l=e&&n||0,u=e||[],d=(t=t||{}).node||o,f=void 0!==t.clockseq?t.clockseq:i;if(null==d||null==f){var p=r();null==d&&(d=o=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=i=16383&(p[6]<<8|p[7]))}var m=void 0!==t.msecs?t.msecs:(new Date).getTime(),g=void 0!==t.nsecs?t.nsecs:a+1,h=m-c+(g-a)/1e4;if(h<0&&void 0===t.clockseq&&(f=f+1&16383),(h<0||m>c)&&void 0===t.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=m,a=g,i=f;var v=(1e4*(268435455&(m+=122192928e5))+g)%4294967296;u[l++]=v>>>24&255,u[l++]=v>>>16&255,u[l++]=v>>>8&255,u[l++]=255&v;var w=m/4294967296*1e4&268435455;u[l++]=w>>>8&255,u[l++]=255&w,u[l++]=w>>>24&15|16,u[l++]=w>>>16&255,u[l++]=f>>>8|128,u[l++]=255&f;for(var y=0;y<6;++y)u[l+y]=d[y];return e||s(u)}}});